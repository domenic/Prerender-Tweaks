<html>
<!--
Copyright 2023 The Chromium Authors
Use of this source code is governed by a BSD-style license that can be
found in the LICENSE file.
 -->
<head>
<style>
div {
    font-size: 10pt;
    margin-left: 8pt;
    margin-right: 8pt;
}
div.group {
    margin: 2pt;
}
div.title {
    width: 300pt;
    background: #77f;
    color: white;
    text-align: center;
    font-weight: bold;
    margin: 8pt;
}
div.section {
    width: 300pt;
    background: #337;
    color: white;
    text-align: center;
    font-weight: bold;
    margin: 8pt;
}
fieldset {
    margin: 12pt;
}
button {
    margin: 4pt;
}
</style>
</head>
<body width="100%">
<div class="title">Prerender Tweaks</div>
<div>
<p>This Chrome Extension allows you to trigger prerenderingeven even if the site doesn't support it.</p>
<p>'Prerender this link' menu item will also appear in a popup context menu if the anchor tag points a same-origin page.
</div>

<div class="section">Statistics</div>

<canvas id="lcp_origin"></canvas>
<canvas id="lcp_all"></canvas>

<div class="section">Settings</div>

<fieldset>
<legend>Auto Injection</legend>
<div class="group">
<input type="checkbox" id="autoInjection">
<label for="autoInjection">Enable</label>
(
<input type="number" id="maxRulesByAnchors" min="1" max="10" style="width: 32pt;">
<label for="maxRulesByAnchors"> prerender(s) at maximum</label>
)
</div>
<div>
Inject speculationrules automatically
for a same-origin link that appears at anchor tags in the page.
The first N links limited above will be prerendered.
</div>
</fieldset>

<fieldset>
<legend>Prerender on Anchor Hover</legend>
<input type="checkbox" id="anchorHoverInjection">
<label for="anchorHoverInjection">Enable</label>
<div>
Inject speculationrules when mouse moves over an anchor tag that points to a same-origin page.
</div>
</fieldset>

<fieldset>
<legend>Statistics</legend>
<input type="checkbox" id="recordMetrics">
<label for="recordMetrics">Enable</label>
<div>
Record largest contentful paint in a local database to evaluate page load performance.
</div>
<button id="clearAll">Clear All</button>
<button id="clearFor">Clear for the current page Origin</button>
</fieldset>

<script src="third_party/chart.js"></script>
<script type="module" src="popup.js"></script>
</body>
</html>